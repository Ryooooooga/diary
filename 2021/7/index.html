<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2021年 7月 - 日記</title>
</head>
<body>
  <h1>2021年 7月</h1>
  <hr>
  <h2>2021年 7月 4日</h2>
  <p>昨日は『ゴジラvsコング』を観た。</p>
<p>圧倒的な荘厳さに満ちた画作りにより神話とまで言わしめた前作KoMから一転、今作は大馬鹿野郎の作ったクソバカ映画である。もちろん褒めている。</p>
<p>インテリヤンキーことコング (背が高い) と田舎のガラが悪い不良のゴジラ (背が高い) がしばきあう実質的なヤンキー映画である。
それに加え、恍惚としたアルカイックスマイルを浮かべながら白目を剥く小栗旬が――それも1度のみならず3度も――観られるのは後にも先にも『ゴジラvsコング』だけだろう。</p>
<p>さて、今日は宇治に足を運んだ。
やはり、観光客の数は日曜の午後にしては少なく見えたが、それでも活気を感じられたのは絹で濾したような猥雑さのためだろう。
宇治橋から平等院に至るまでのごく狭い空間にひしめいている喫茶や食事処は、抹茶に頼ればあとは雰囲気で押し通せるだろうという打算を隠そうともせず、けれども石畳がそれを観光地というパッケージに収めている。
観光地というのは地元に人間からすればどこもそんな感じなんだろうか。</p>
  <hr>
  <h2>2021年 7月 1日</h2>
  <p>『コンピュータシステムの理論と実装』を読んでいる。現在は7章の辺り。</p>
<p>この本は通称Nand2Tetrisと呼ばれている (らしい)。
その名の通りNANDゲートから(仮想的な)コンピュータを構築し、OS上でテトリスを実行するまでの過程を学ぶ。</p>
<p>1〜5章ではHDLを書いて論理回路、レジスタをはじめとする順序回路、ALU、CPU、それらを組み合わせたコンピュータを構成する。
6章ではそのコンピュータシステムのためのアセンブラを書く。</p>
<p>アセンブラを書くための言語はどのようなものを選択してもよいのだが、今回はRustを使って書いた。
RustはAlmelを書いたとき以来なのでかれこれ2年以上書いていなかったらしい。
構文からなにからすべてを忘れてしまっており、我ながら驚いた。</p>
<p>ところでアセンブラなんてものは適当にさっさと書き上げたかったのだが、それならばD言語やRubyやJSなどの適当に書ける言語を選択したほうが良かった。
Rustは適当に書くにはあまり向いていない。</p>
<p>結局、字句解析なんぞちんたら書きたくなかったので大きな正規表現1つで雑に1行ごとに処理するようにした。
9章以降では高水準言語のコンパイラを書かねばならないが、Rustを選択するべきか、少し悩んでいる。</p>
</body>
</html>
